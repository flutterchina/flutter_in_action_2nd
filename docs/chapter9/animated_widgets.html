<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>9.7 动画过渡组件 | 《Flutter实战·第二版》</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/assets/img/logo.png">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.c0f2585a.css" as="style"><link rel="preload" href="/assets/js/app.43173660.js" as="script"><link rel="preload" href="/assets/js/28.3b4d2e28.js" as="script"><link rel="preload" href="/assets/js/2.98d8db3c.js" as="script"><link rel="preload" href="/assets/js/38.d26fabef.js" as="script"><link rel="prefetch" href="/assets/js/10.8bc31af5.js"><link rel="prefetch" href="/assets/js/100.ba81944e.js"><link rel="prefetch" href="/assets/js/101.1aaec6c7.js"><link rel="prefetch" href="/assets/js/102.cd2de00f.js"><link rel="prefetch" href="/assets/js/103.107c20b2.js"><link rel="prefetch" href="/assets/js/104.789d203a.js"><link rel="prefetch" href="/assets/js/105.2bb300d8.js"><link rel="prefetch" href="/assets/js/106.4abfbb83.js"><link rel="prefetch" href="/assets/js/107.81d50e40.js"><link rel="prefetch" href="/assets/js/108.3daba3ba.js"><link rel="prefetch" href="/assets/js/109.8249384c.js"><link rel="prefetch" href="/assets/js/11.52226041.js"><link rel="prefetch" href="/assets/js/110.8f9c386e.js"><link rel="prefetch" href="/assets/js/111.32fea090.js"><link rel="prefetch" href="/assets/js/112.77af3cf2.js"><link rel="prefetch" href="/assets/js/113.73513f08.js"><link rel="prefetch" href="/assets/js/114.9145d50d.js"><link rel="prefetch" href="/assets/js/115.eeea319e.js"><link rel="prefetch" href="/assets/js/116.a17f4a65.js"><link rel="prefetch" href="/assets/js/117.2687409c.js"><link rel="prefetch" href="/assets/js/118.642ed5f4.js"><link rel="prefetch" href="/assets/js/119.ea6d3cce.js"><link rel="prefetch" href="/assets/js/12.a646e00f.js"><link rel="prefetch" href="/assets/js/120.dc9c27ec.js"><link rel="prefetch" href="/assets/js/121.8a87f38a.js"><link rel="prefetch" href="/assets/js/122.0572f26a.js"><link rel="prefetch" href="/assets/js/123.7fc54e08.js"><link rel="prefetch" href="/assets/js/124.58be360b.js"><link rel="prefetch" href="/assets/js/125.3bd64fc6.js"><link rel="prefetch" href="/assets/js/126.a9e57e0a.js"><link rel="prefetch" href="/assets/js/127.a5121be6.js"><link rel="prefetch" href="/assets/js/128.c02a5c92.js"><link rel="prefetch" href="/assets/js/129.7f1d30e0.js"><link rel="prefetch" href="/assets/js/13.87809a98.js"><link rel="prefetch" href="/assets/js/130.f8b1c391.js"><link rel="prefetch" href="/assets/js/131.6700251f.js"><link rel="prefetch" href="/assets/js/132.1a986d34.js"><link rel="prefetch" href="/assets/js/14.fb19b9f6.js"><link rel="prefetch" href="/assets/js/15.ce9e84a2.js"><link rel="prefetch" href="/assets/js/16.c0ca2cc1.js"><link rel="prefetch" href="/assets/js/17.0c3b5322.js"><link rel="prefetch" href="/assets/js/18.5b87713a.js"><link rel="prefetch" href="/assets/js/19.2d06f918.js"><link rel="prefetch" href="/assets/js/20.fdd292fb.js"><link rel="prefetch" href="/assets/js/21.08525072.js"><link rel="prefetch" href="/assets/js/22.1cf7daf7.js"><link rel="prefetch" href="/assets/js/23.a7d02d79.js"><link rel="prefetch" href="/assets/js/24.db881010.js"><link rel="prefetch" href="/assets/js/25.589c486b.js"><link rel="prefetch" href="/assets/js/26.d3039f5b.js"><link rel="prefetch" href="/assets/js/27.4ef16ba9.js"><link rel="prefetch" href="/assets/js/29.57d1b2cd.js"><link rel="prefetch" href="/assets/js/3.a35a525a.js"><link rel="prefetch" href="/assets/js/30.c6156fe0.js"><link rel="prefetch" href="/assets/js/31.a9279a80.js"><link rel="prefetch" href="/assets/js/32.9736751d.js"><link rel="prefetch" href="/assets/js/33.b536f1ec.js"><link rel="prefetch" href="/assets/js/34.5749c44c.js"><link rel="prefetch" href="/assets/js/35.aa2a03c9.js"><link rel="prefetch" href="/assets/js/36.5fa06566.js"><link rel="prefetch" href="/assets/js/37.b5c4c7b3.js"><link rel="prefetch" href="/assets/js/39.777eaff2.js"><link rel="prefetch" href="/assets/js/4.07ff3619.js"><link rel="prefetch" href="/assets/js/40.cc6365bd.js"><link rel="prefetch" href="/assets/js/41.0b2a2e37.js"><link rel="prefetch" href="/assets/js/42.86709438.js"><link rel="prefetch" href="/assets/js/43.38a7576c.js"><link rel="prefetch" href="/assets/js/44.a8e62c4a.js"><link rel="prefetch" href="/assets/js/45.f75e4f01.js"><link rel="prefetch" href="/assets/js/46.f68f121b.js"><link rel="prefetch" href="/assets/js/47.6946d4d9.js"><link rel="prefetch" href="/assets/js/48.7e7a819c.js"><link rel="prefetch" href="/assets/js/49.b96f9aa2.js"><link rel="prefetch" href="/assets/js/5.adb59b14.js"><link rel="prefetch" href="/assets/js/50.879a9dfb.js"><link rel="prefetch" href="/assets/js/51.0e9b4a58.js"><link rel="prefetch" href="/assets/js/52.ff582701.js"><link rel="prefetch" href="/assets/js/53.be850d21.js"><link rel="prefetch" href="/assets/js/54.72d4e74a.js"><link rel="prefetch" href="/assets/js/55.36604543.js"><link rel="prefetch" href="/assets/js/56.c0ccee03.js"><link rel="prefetch" href="/assets/js/57.1613dafa.js"><link rel="prefetch" href="/assets/js/58.aba3e8f7.js"><link rel="prefetch" href="/assets/js/59.ef6d6f9f.js"><link rel="prefetch" href="/assets/js/6.45c4f688.js"><link rel="prefetch" href="/assets/js/60.dd47a7af.js"><link rel="prefetch" href="/assets/js/61.b02e5505.js"><link rel="prefetch" href="/assets/js/62.12ac79d4.js"><link rel="prefetch" href="/assets/js/63.be10853a.js"><link rel="prefetch" href="/assets/js/64.d7f95648.js"><link rel="prefetch" href="/assets/js/65.fb9f5824.js"><link rel="prefetch" href="/assets/js/66.577195b8.js"><link rel="prefetch" href="/assets/js/67.fbd19121.js"><link rel="prefetch" href="/assets/js/68.457ae304.js"><link rel="prefetch" href="/assets/js/69.b3eb10a9.js"><link rel="prefetch" href="/assets/js/7.da7959e6.js"><link rel="prefetch" href="/assets/js/70.4dcf46d1.js"><link rel="prefetch" href="/assets/js/71.f38411da.js"><link rel="prefetch" href="/assets/js/72.d494782e.js"><link rel="prefetch" href="/assets/js/73.ba6dd512.js"><link rel="prefetch" href="/assets/js/74.92644848.js"><link rel="prefetch" href="/assets/js/75.9ff264e7.js"><link rel="prefetch" href="/assets/js/76.9fa82042.js"><link rel="prefetch" href="/assets/js/77.66bea7ab.js"><link rel="prefetch" href="/assets/js/78.5edcfdfd.js"><link rel="prefetch" href="/assets/js/79.777c075c.js"><link rel="prefetch" href="/assets/js/8.d7da7f29.js"><link rel="prefetch" href="/assets/js/80.1125ec00.js"><link rel="prefetch" href="/assets/js/81.8f6e1886.js"><link rel="prefetch" href="/assets/js/82.f1428ace.js"><link rel="prefetch" href="/assets/js/83.deb3f163.js"><link rel="prefetch" href="/assets/js/84.8df592cc.js"><link rel="prefetch" href="/assets/js/85.25e18db6.js"><link rel="prefetch" href="/assets/js/86.27393870.js"><link rel="prefetch" href="/assets/js/87.98fe82d2.js"><link rel="prefetch" href="/assets/js/88.fa447883.js"><link rel="prefetch" href="/assets/js/89.8c18d589.js"><link rel="prefetch" href="/assets/js/9.6237b5ba.js"><link rel="prefetch" href="/assets/js/90.f5ac07d0.js"><link rel="prefetch" href="/assets/js/91.d892c3fe.js"><link rel="prefetch" href="/assets/js/92.5f51371d.js"><link rel="prefetch" href="/assets/js/93.b22c8cf3.js"><link rel="prefetch" href="/assets/js/94.fe0b1976.js"><link rel="prefetch" href="/assets/js/95.3816928c.js"><link rel="prefetch" href="/assets/js/96.80bac324.js"><link rel="prefetch" href="/assets/js/97.a5354cbe.js"><link rel="prefetch" href="/assets/js/98.b2597235.js"><link rel="prefetch" href="/assets/js/99.9f427558.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c0f2585a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/img/logo.png" alt="《Flutter实战·第二版》" class="logo"> <span class="site-name can-hide">《Flutter实战·第二版》</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/flutterchina/flukit" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Flukit组件库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/flutterchina" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Flutter中国
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/flutterchina/flutter_in_action_2nd" target="_blank" rel="noopener noreferrer" class="nav-link external">
  本书Github地址
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/flutterchina/flukit" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Flukit组件库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/flutterchina" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Flutter中国
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/flutterchina/flutter_in_action_2nd" target="_blank" rel="noopener noreferrer" class="nav-link external">
  本书Github地址
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">第二版序</a></li><li><section class="sidebar-group depth-0"><a href="/chapter1/index" class="sidebar-heading clickable"><span>第一章：起步</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/chapter1/mobile_development_intro.html" class="sidebar-link">1.1 移动开发技术简介</a></li><li><a href="/chapter1/flutter_intro.html" class="sidebar-link">1.2 初识 Flutter</a></li><li><a href="/chapter1/install_flutter.html" class="sidebar-link">1.3 搭建Flutter开发环境</a></li><li><a href="/chapter1/dart.html" class="sidebar-link">1.4 Dart语言简介</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/chapter2/index" class="sidebar-heading clickable"><span>第二章：第一个Flutter应用</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/chapter2/first_flutter_app.html" class="sidebar-link">2.1 计数器应用示例</a></li><li><a href="/chapter2/flutter_widget_intro.html" class="sidebar-link">2.2  Widget 简介</a></li><li><a href="/chapter2/state_manage.html" class="sidebar-link">2.3 状态管理</a></li><li><a href="/chapter2/flutter_router.html" class="sidebar-link">2.4 路由管理</a></li><li><a href="/chapter2/flutter_package_mgr.html" class="sidebar-link">2.5 包管理</a></li><li><a href="/chapter2/flutter_assets_mgr.html" class="sidebar-link">2.6 资源管理</a></li><li><a href="/chapter2/flutter_app_debug.html" class="sidebar-link">2.7 调试Flutter应用</a></li><li><a href="/chapter2/thread_model_and_error_report.html" class="sidebar-link">2.8 Flutter异常捕获</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/chapter3/index" class="sidebar-heading clickable"><span>第三章：基础组件</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/chapter3/text.html" class="sidebar-link">3.1 文本及样式</a></li><li><a href="/chapter3/buttons.html" class="sidebar-link">3.2 按钮</a></li><li><a href="/chapter3/img_and_icon.html" class="sidebar-link">3.3 图片及ICON</a></li><li><a href="/chapter3/radio_and_checkbox.html" class="sidebar-link">3.4 单选开关和复选框</a></li><li><a href="/chapter3/input_and_form.html" class="sidebar-link">3.5 输入框及表单</a></li><li><a href="/chapter3/progress.html" class="sidebar-link">3.6 进度指示器</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/chapter4/index.md" class="sidebar-heading clickable"><span>第四章：布局类组件</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/chapter4/intro.html" class="sidebar-link">4.1 布局类组件简介</a></li><li><a href="/chapter4/constraints.html" class="sidebar-link">4.2 布局原理与约束（constraints）</a></li><li><a href="/chapter4/row_and_column.html" class="sidebar-link">4.3 线性布局（Row和Column）</a></li><li><a href="/chapter4/flex.html" class="sidebar-link">4.4 弹性布局（Flex）</a></li><li><a href="/chapter4/wrap_and_flow.html" class="sidebar-link">4.5 流式布局（Wrap、Flow）</a></li><li><a href="/chapter4/stack.html" class="sidebar-link">4.6 层叠布局（Stack、Positioned）</a></li><li><a href="/chapter4/alignment.html" class="sidebar-link">4.7 对齐与相对定位（Align）</a></li><li><a href="/chapter4/layoutbuilder.html" class="sidebar-link">4.8 LayoutBuilder、AfterLayout</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/chapter5/index" class="sidebar-heading clickable"><span>第五章：容器类组件</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/chapter5/padding.html" class="sidebar-link">5.1 填充（Padding）</a></li><li><a href="/chapter5/decoratedbox.html" class="sidebar-link">5.2 装饰容器（DecoratedBox）</a></li><li><a href="/chapter5/transform.html" class="sidebar-link">5.3 变换（Transform）</a></li><li><a href="/chapter5/container.html" class="sidebar-link">5.4 容器组件（Container）</a></li><li><a href="/chapter5/clip.html" class="sidebar-link">5.5 剪裁（Clip）</a></li><li><a href="/chapter5/fittedbox.html" class="sidebar-link">5.6 空间适配（FittedBox）</a></li><li><a href="/chapter5/material_scaffold.html" class="sidebar-link">5.7 页面骨架（Scaffold）</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/chapter6/index" class="sidebar-heading clickable"><span>第六章：可滚动组件</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/chapter6/intro.html" class="sidebar-link">6.1 可滚动组件简介</a></li><li><a href="/chapter6/single_child_scrollview.html" class="sidebar-link">6.2 SingleChildScrollView</a></li><li><a href="/chapter6/listview.html" class="sidebar-link">6.3 ListView</a></li><li><a href="/chapter6/scroll_controller.html" class="sidebar-link">6.4 滚动监听及控制</a></li><li><a href="/chapter6/animatedlist.html" class="sidebar-link">6.5 AnimatedList</a></li><li><a href="/chapter6/gridview.html" class="sidebar-link">6.6 GridView</a></li><li><a href="/chapter6/pageview.html" class="sidebar-link">6.7 PageView与页面缓存</a></li><li><a href="/chapter6/keepalive.html" class="sidebar-link">6.8 可滚动组件子项缓存</a></li><li><a href="/chapter6/tabview.html" class="sidebar-link">6.9 TabBarView</a></li><li><a href="/chapter6/custom_scrollview.html" class="sidebar-link">6.10 CustomScrollView 和 Slivers</a></li><li><a href="/chapter6/sliver.html" class="sidebar-link">6.11 自定义 Sliver</a></li><li><a href="/chapter6/nestedscrollview.html" class="sidebar-link">6.12 嵌套可滚动组件 NestedScrollView</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/chapter7/index" class="sidebar-heading clickable"><span>第七章：功能型组件</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/chapter7/willpopscope.html" class="sidebar-link">7.1 导航返回拦截（WillPopScope）</a></li><li><a href="/chapter7/inherited_widget.html" class="sidebar-link">7.2 数据共享（InheritedWidget）</a></li><li><a href="/chapter7/provider.html" class="sidebar-link">7.3 跨组件状态共享</a></li><li><a href="/chapter7/theme.html" class="sidebar-link">7.4 颜色和主题</a></li><li><a href="/chapter7/value_listenable_builder.html" class="sidebar-link">7.5 按需rebuild（ValueListenableBuilder）</a></li><li><a href="/chapter7/futurebuilder_and_streambuilder.html" class="sidebar-link">7.6 异步UI更新（FutureBuilder、StreamBuilder）</a></li><li><a href="/chapter7/dailog.html" class="sidebar-link">7.7 对话框详解</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/chapter8/index" class="sidebar-heading clickable"><span>第八章：事件处理与通知</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/chapter8/listener.html" class="sidebar-link">8.1 原始指针事件处理</a></li><li><a href="/chapter8/gesture.html" class="sidebar-link">8.2 手势识别</a></li><li><a href="/chapter8/hittest.html" class="sidebar-link">8.3 Flutter事件机制</a></li><li><a href="/chapter8/gesture_conflict.html" class="sidebar-link">8.4 手势原理与手势冲突</a></li><li><a href="/chapter8/eventbus.html" class="sidebar-link">8.5 事件总线</a></li><li><a href="/chapter8/notification.html" class="sidebar-link">8.6 通知 Notification</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/chapter9/index" class="sidebar-heading clickable open"><span>第九章：动画</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/chapter9/intro.html" class="sidebar-link">9.1 Flutter动画简介</a></li><li><a href="/chapter9/animation_structure.html" class="sidebar-link">9.2 动画基本结构及状态监听</a></li><li><a href="/chapter9/route_transition.html" class="sidebar-link">9.3 自定义路由切换动画</a></li><li><a href="/chapter9/hero.html" class="sidebar-link">9.4 Hero动画</a></li><li><a href="/chapter9/stagger_animation.html" class="sidebar-link">9.5 交织动画</a></li><li><a href="/chapter9/animated_switcher.html" class="sidebar-link">9.6 动画切换组件（AnimatedSwitcher）</a></li><li><a href="/chapter9/animated_widgets.html" aria-current="page" class="active sidebar-link">9.7 动画过渡组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/chapter9/animated_widgets.html#_9-7-1-自定义动画过渡组件" class="sidebar-link">9.7.1 自定义动画过渡组件</a></li><li class="sidebar-sub-header"><a href="/chapter9/animated_widgets.html#_9-7-2-flutter预置的动画过渡组件" class="sidebar-link">9.7.2 Flutter预置的动画过渡组件</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/chapter10/index" class="sidebar-heading clickable"><span>第十章：自定义组件</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/chapter10/intro.html" class="sidebar-link">10.1 自定义组件方法简介</a></li><li><a href="/chapter10/combine.html" class="sidebar-link">10.2 组合现有组件</a></li><li><a href="/chapter10/turn_box.html" class="sidebar-link">10.3 组合实例：TurnBox</a></li><li><a href="/chapter10/custom_paint.html" class="sidebar-link">10.4 CustomPaint 与 Canvas</a></li><li><a href="/chapter10/gradient_circular_progress_demo.html" class="sidebar-link">10.5 自绘实例：圆形背景渐变进度条</a></li><li><a href="/chapter10/custom_checkbox.html" class="sidebar-link">10.6 自绘组件：CustomCheckbox</a></li><li><a href="/chapter10/done_widget.html" class="sidebar-link">10.7 自绘组件: DoneWidget</a></li><li><a href="/chapter10/watermark.html" class="sidebar-link">10.8 水印实例: 文本绘制与离屏渲染</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/chapter11/index" class="sidebar-heading clickable"><span>第十一章：文件操作与网络请求</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/chapter11/file_operation.html" class="sidebar-link">11.1 文件操作</a></li><li><a href="/chapter11/http.html" class="sidebar-link">11.2 通过HttpClient发起HTTP请求</a></li><li><a href="/chapter11/dio.html" class="sidebar-link">11.3 Http请求库-dio</a></li><li><a href="/chapter11/download_with_chunks.html" class="sidebar-link">11.4 实例：Http分块下载</a></li><li><a href="/chapter11/websocket.html" class="sidebar-link">11.5 使用WebSockets</a></li><li><a href="/chapter11/socket.html" class="sidebar-link">11.6 使用Socket API</a></li><li><a href="/chapter11/json_model.html" class="sidebar-link">11.7 JSON转Dart Model类</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/chapter12/index" class="sidebar-heading clickable"><span>第十二章：Flutter 扩展</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/chapter12/package_and_plugin.html" class="sidebar-link">12.1 包和插件</a></li><li><a href="/chapter12/flutter_web.html" class="sidebar-link">12.2 Flutter Web</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/chapter13/index" class="sidebar-heading clickable"><span>第十三章：国际化</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/chapter13/multi_languages_support.html" class="sidebar-link">13.1 让App支持多语言</a></li><li><a href="/chapter13/locallization_implement.html" class="sidebar-link">13.2 实现Localizations</a></li><li><a href="/chapter13/intl.html" class="sidebar-link">13.3 使用Intl包</a></li><li><a href="/chapter13/faq.html" class="sidebar-link">13.4 国际化常见问题</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/chapter14/index" class="sidebar-heading clickable"><span>第十四章：Flutter核心原理</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/chapter14/flutter_ui_system.html" class="sidebar-link">14.1 Flutter UI 框架（Framework）</a></li><li><a href="/chapter14/element_buildcontext.html" class="sidebar-link">14.2 Element、BuildContext和RenderObject</a></li><li><a href="/chapter14/flutter_app_startup.html" class="sidebar-link">14.3 Flutter启动流程和渲染管线</a></li><li><a href="/chapter14/layout.html" class="sidebar-link">14.4 布局（Layout）过程</a></li><li><a href="/chapter14/paint.html" class="sidebar-link">14.5 绘制（一）绘制原理及Layer</a></li><li><a href="/chapter14/paint_flow.html" class="sidebar-link">14.6 绘制（二）组件树绘制流程</a></li><li><a href="/chapter14/layer.html" class="sidebar-link">14.7 绘制（三）Layer 实例</a></li><li><a href="/chapter14/compositing.html" class="sidebar-link">14.8 绘制（四）Compositing</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>第十五章：一个完整的Flutter应用</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/chapter15/intro.html" class="sidebar-link">15.1 Github客户端示例</a></li><li><a href="/chapter15/code_structure.html" class="sidebar-link">15.2 Flutter APP代码结构</a></li><li><a href="/chapter15/models.html" class="sidebar-link">15.3 Model类定义</a></li><li><a href="/chapter15/globals.html" class="sidebar-link">15.4 全局变量及共享状态</a></li><li><a href="/chapter15/network.html" class="sidebar-link">15.5 网络请求封装</a></li><li><a href="/chapter15/entry.html" class="sidebar-link">15.6 APP入口及主页</a></li><li><a href="/chapter15/login_page.html" class="sidebar-link">15.7 登录页</a></li><li><a href="/chapter15/language_and_theme_setting.html" class="sidebar-link">15.8 多语言和多主题</a></li></ul></section></li><li><a href="/sponsor.html" class="sidebar-link">赞助</a></li></ul> </aside> <main class="page"> <!----> <div class="theme-default-content content__default"><h1 id="_9-7-动画过渡组件"><a href="#_9-7-动画过渡组件" class="header-anchor">#</a> 9.7 动画过渡组件</h1> <p>为了表述方便，本书约定，将在Widget属性发生变化时会执行过渡动画的组件统称为”动画过渡组件“，而动画过渡组件最明显的一个特征就是它会在内部自管理<code>AnimationController</code>。我们知道，为了方便使用者可以自定义动画的曲线、执行时长、方向等，在前面介绍过的动画封装方法中，通常都需要使用者自己提供一个<code>AnimationController</code>对象来自定义这些属性值。但是，如此一来，使用者就必须得手动管理<code>AnimationController</code>，这又会增加使用的复杂性。因此，如果也能将<code>AnimationController</code>进行封装，则会大大提高动画组件的易用性。</p> <h2 id="_9-7-1-自定义动画过渡组件"><a href="#_9-7-1-自定义动画过渡组件" class="header-anchor">#</a> 9.7.1 自定义动画过渡组件</h2> <p>我们要实现一个<code>AnimatedDecoratedBox</code>，它可以在<code>decoration</code>属性发生变化时，从旧状态变成新状态的过程可以执行一个过渡动画。根据前面所学的知识，我们实现了一个<code>AnimatedDecoratedBox1</code>组件：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">AnimatedDecoratedBox1</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token class-name">AnimatedDecoratedBox1</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>
    required <span class="token keyword">this</span><span class="token punctuation">.</span>decoration<span class="token punctuation">,</span>
    required <span class="token keyword">this</span><span class="token punctuation">.</span>child<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>curve <span class="token operator">=</span> <span class="token class-name">Curves</span><span class="token punctuation">.</span>linear<span class="token punctuation">,</span>
    required <span class="token keyword">this</span><span class="token punctuation">.</span>duration<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>reverseDuration<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">final</span> <span class="token class-name">BoxDecoration</span> decoration<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">Widget</span> child<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">Duration</span> duration<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">Curve</span> curve<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">Duration</span><span class="token operator">?</span> reverseDuration<span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  _AnimatedDecoratedBox1State <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_AnimatedDecoratedBox1State</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> _AnimatedDecoratedBox1State <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AnimatedDecoratedBox1</span><span class="token punctuation">&gt;</span></span>
    <span class="token keyword">with</span> <span class="token class-name">SingleTickerProviderStateMixin</span> <span class="token punctuation">{</span>
  <span class="token metadata function">@protected</span>
  <span class="token class-name">AnimationController</span> <span class="token keyword">get</span> controller <span class="token operator">=</span><span class="token operator">&gt;</span> _controller<span class="token punctuation">;</span>
  late <span class="token class-name">AnimationController</span> _controller<span class="token punctuation">;</span>

  <span class="token class-name">Animation</span><span class="token generics"><span class="token punctuation">&lt;</span>double<span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> animation <span class="token operator">=</span><span class="token operator">&gt;</span> _animation<span class="token punctuation">;</span>
  late <span class="token class-name">Animation</span><span class="token generics"><span class="token punctuation">&lt;</span>double<span class="token punctuation">&gt;</span></span> _animation<span class="token punctuation">;</span>

  late <span class="token class-name">DecorationTween</span> _tween<span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">AnimatedBuilder</span><span class="token punctuation">(</span>
      animation<span class="token punctuation">:</span> _animation<span class="token punctuation">,</span>
      builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> child<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">DecoratedBox</span><span class="token punctuation">(</span>
          decoration<span class="token punctuation">:</span> _tween<span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span>_animation<span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">,</span>
          child<span class="token punctuation">:</span> child<span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      child<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>child<span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    _controller <span class="token operator">=</span> <span class="token class-name">AnimationController</span><span class="token punctuation">(</span>
      duration<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>duration<span class="token punctuation">,</span>
      reverseDuration<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>reverseDuration<span class="token punctuation">,</span>
      vsync<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    _tween <span class="token operator">=</span> <span class="token class-name">DecorationTween</span><span class="token punctuation">(</span>begin<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>decoration<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_updateCurve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">_updateCurve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    _animation <span class="token operator">=</span> <span class="token class-name">CurvedAnimation</span><span class="token punctuation">(</span>parent<span class="token punctuation">:</span> _controller<span class="token punctuation">,</span> curve<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>curve<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">didUpdateWidget</span><span class="token punctuation">(</span><span class="token class-name">AnimatedDecoratedBox1</span> oldWidget<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">didUpdateWidget</span><span class="token punctuation">(</span>oldWidget<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>widget<span class="token punctuation">.</span>curve <span class="token operator">!=</span> oldWidget<span class="token punctuation">.</span>curve<span class="token punctuation">)</span> <span class="token function">_updateCurve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    _controller<span class="token punctuation">.</span>duration <span class="token operator">=</span> widget<span class="token punctuation">.</span>duration<span class="token punctuation">;</span>
    _controller<span class="token punctuation">.</span>reverseDuration <span class="token operator">=</span> widget<span class="token punctuation">.</span>reverseDuration<span class="token punctuation">;</span>
    <span class="token comment">//正在执行过渡动画</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>widget<span class="token punctuation">.</span>decoration <span class="token operator">!=</span> <span class="token punctuation">(</span>_tween<span class="token punctuation">.</span>end <span class="token operator">?</span><span class="token operator">?</span> _tween<span class="token punctuation">.</span>begin<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      _tween
        <span class="token punctuation">.</span><span class="token punctuation">.</span>begin <span class="token operator">=</span> _tween<span class="token punctuation">.</span><span class="token function">evaluate</span><span class="token punctuation">(</span>_animation<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span>end <span class="token operator">=</span> widget<span class="token punctuation">.</span>decoration<span class="token punctuation">;</span>

      _controller
        <span class="token punctuation">.</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">0.0</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    _controller<span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br></div></div><p>下面我们来使用<code>AnimatedDecoratedBox1</code>来实现按钮点击后背景色从蓝色过渡到红色的效果：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token class-name">Color</span> _decorationColor <span class="token operator">=</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>blue<span class="token punctuation">;</span>
<span class="token keyword">var</span> duration <span class="token operator">=</span> <span class="token class-name">Duration</span><span class="token punctuation">(</span>seconds<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token comment">//省略无关代码</span>
<span class="token class-name">AnimatedDecoratedBox1</span><span class="token punctuation">(</span>
  duration<span class="token punctuation">:</span> duration<span class="token punctuation">,</span>
  decoration<span class="token punctuation">:</span> <span class="token class-name">BoxDecoration</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> _decorationColor<span class="token punctuation">)</span><span class="token punctuation">,</span>
  child<span class="token punctuation">:</span> <span class="token class-name">TextButton</span><span class="token punctuation">(</span>
    onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        _decorationColor <span class="token operator">=</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>red<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>
      <span class="token string-literal"><span class="token string">&quot;AnimatedDecoratedBox&quot;</span></span><span class="token punctuation">,</span>
      style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>white<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>点击前效果如图9-7所示，点击后截取了过渡过程的一帧如图9-8所示： <img src="data:image/png;base64,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Ow40Fzl2XaO5Ns9TBXb6hjrZov1lZSAU7atpnpqLrtU+fLYwLfvOsb+0JaFtAPWjJs6yWefZm5vG7MzcZZO61jVysPvhKZGgJg4aX3boZ72s436al9ZHvytToCOZWg/VHLRc0z+xj2t1ZFF9i2vLNRU/nV5oXnfxlZjRtoPs0PXqn5dCCr5Kwzez4uXsWqkuQT9rfN0HndivF3PNSf1Ww1m2tmxirvXUmus+ajl3ZRKaGWb75bqD8FFBpGwQuw66x+hQRz4lHDRHfTWzxlOfuh++7PbYxaV8RwXFj192x+6v6AlYABT9En95Bn7ZAuDLm5l7MoHoErAAiO7an67l6FI3EzABEzABEzCBqBGwAIjaitteEzABEzABE4CABYBvAxMwARMwAROIIAELgAguuk02ARMwARMwAQsA3wMmYAImYAImEEECFgARXHSbbAImYAImYAIWAL4HTMAETMAETCCCBCwAIrjoNtkETMAETMAELAB8D5iACZiACZhABAlYAERw0W2yCZiACZiACVgA+B4wARMwARMwgQgSsACI4KLbZBMwARMwAROwAPA9YAImYAImYAIRJGABEMFFt8kmYAImYAImYAHge8AETMAETMAEIkjAAiCCi26TTcAETMAETMACwPeACZiACZiACUSQgAVABBfdJpuACZiACZiABYDvARMwARMwAROIIAELgAguuk02ARMwARMwAQsA3wMmYAImYAImEEECFgARXHSbbAImYAImYAKxZDLZaAwm0BoCW/c3hnc2N7TmUl9jAiZwhghM610SaipjZ2g0D1NMBCwAimk182xLBt+ftlzMM2V3bwJtI5DA98edy20bNF+dJZAwBxNoLQE9ZOKtvdjXmYAJmIAJFDQB68aCXh5PzgRMwARMwATyQ8ACID9c3asJmIAJmIAJFDQBC4CCXh5PzgRMwARMwATyQ8ACID9c3asJmIAJmIAJFDQBC4CCXh5PzgRMwARMwATyQ8ACID9c3asJmIAJmIAJFDQBC4CCXh5PzgRMwARMwATyQ8ACID9c3asJmIAJmIAJFDQBC4CCXh5PzgRMwARMwATyQ8ACID9c3asJmIAJmIAJFDQBC4CCXh5PzgRMwARMwATyQ8ACID9c3asJmIAJmIAJFDQBC4CCXh5PzgRMwARMwATyQ8ACID9c3asJmIAJmIAJFDQBC4CCXh5PzgRMwARMwATyQ8ACID9c3asJmIAJmIAJFDSB/wN9/AZcme7YQQAAAABJRU5ErkJggg==" alt="图9-7"><img src="data:image/png;base64,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+XFQoXmzf25v5Tx4PYrcn7p9/M+Hffvpj6l5+KnHouu9nQQkAN7OdYvqqNdCAER1AupMBAJIQAIggIsa5SkpBRBl4OpOBERABERABGKBgARALKyCxiACIiACIiACUSYgARBl4OpOBERABERABGKBgARALKyCxiACIiACIiACUSYgARBl4OpOBERABERABGKBgARALKyCxiACIiACIiACUSYgARBl4OpOBERABERABGKBgARALKyCxiACIiACIiACUSYgARBl4OpOBERABERABGKBgARALKyCxiACIiACIiACUSYgARBl4OpOBERABERABGKBgARALKyCxiACIiACIiACUSYgARBl4OpOBERABERABGKBgARALKyCxiACIiACIiACUSYgARBl4OpOBERABERABGKBgARALKyCxiACIiACIiACUSYgARBl4OpOBERABERABGKBgARALKyCxiACIiACIiACUSYgARBl4OpOBERABERABGKBgARALKyCxiACIiACIiACUSYgARBl4OpOBERABERABGKBgARALKyCxiACIiACIiACUSaQMD8/vxzlPtXdW0Zg/NGU3bs98JaNWsMVgWATqGkotbyCrGBPUrNbUwISAGuKNxgXX1patqWlpWBMRrMQgYAQSExMtMTEhIDMRtNYDwLJ69Gp+ny7CPAhk5iY9HYNWqMVAREQARGISEA1ABHx6KAIiIAIiIAIBJOABEAw11WzEgEREAEREIGIBCQAIuLRQREQAREQAREIJgEJgGCuq2YlAiIgAiIgAhEJSABExKODIiACIiACIhBMAhIAwVxXzUoEREAEREAEIhKQAIiIRwdFQAREQAREIJgEJACCua6alQiIgAiIgAhEJCABEBGPDoqACIiACIhAMAlIAARzXTUrERABERABEYhIQAIgIh4dFAEREAEREIFgEpAACOa6alYiIAIiIAIiEJGABEBEPDooAiIgAiIgAsEkIAEQzHXVrERABERABEQgIgEJgIh4dFAEREAEREAEgklAAiCY66pZiYAIiIAIiEBEAv8PGQS+vtZoAOcAAAAASUVORK5CYII=" alt="图9-8"></p> <p>点击后，按钮背景色会从蓝色向红色过渡，图9-9是过渡过程中的一帧，有点偏紫色，整个过渡动画结束后背景会变为红色。</p> <p>上面的代码虽然实现了我们期望的功能，但是代码却比较复杂。稍加思考后，我们就可以发现，<code>AnimationController</code>的管理以及Tween更新部分的代码都是可以抽象出来的，如果我们这些通用逻辑封装成基类，那么要实现动画过渡组件只需要继承这些基类，然后定制自身不同的代码（比如动画每一帧的构建方法）即可，这样将会简化代码。</p> <p>为了方便开发者来实现动画过渡组件的封装，Flutter提供了一个<code>ImplicitlyAnimatedWidget</code>抽象类，它继承自StatefulWidget，同时提供了一个对应的<code>ImplicitlyAnimatedWidgetState</code>类，<code>AnimationController</code>的管理就在<code>ImplicitlyAnimatedWidgetState</code>类中。开发者如果要封装动画，只需要分别继承<code>ImplicitlyAnimatedWidget</code>和<code>ImplicitlyAnimatedWidgetState</code>类即可，下面我们演示一下具体如何实现。</p> <p>我们需要分两步实现：</p> <ol><li><p>继承<code>ImplicitlyAnimatedWidget</code>类。</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> <span class="token class-name">AnimatedDecoratedBox</span> <span class="token keyword">extends</span> <span class="token class-name">ImplicitlyAnimatedWidget</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token class-name">AnimatedDecoratedBox</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>
    required <span class="token keyword">this</span><span class="token punctuation">.</span>decoration<span class="token punctuation">,</span>
    required <span class="token keyword">this</span><span class="token punctuation">.</span>child<span class="token punctuation">,</span>
    <span class="token class-name">Curve</span> curve <span class="token operator">=</span> <span class="token class-name">Curves</span><span class="token punctuation">.</span>linear<span class="token punctuation">,</span>
    required <span class="token class-name">Duration</span> duration<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>
          key<span class="token punctuation">:</span> key<span class="token punctuation">,</span>
          curve<span class="token punctuation">:</span> curve<span class="token punctuation">,</span>
          duration<span class="token punctuation">:</span> duration<span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">BoxDecoration</span> decoration<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">Widget</span> child<span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  _AnimatedDecoratedBoxState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">_AnimatedDecoratedBoxState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>其中<code>curve</code>、<code>duration</code>、<code>reverseDuration</code>三个属性在<code>ImplicitlyAnimatedWidget</code>中已定义。 可以看到<code>AnimatedDecoratedBox</code>类和普通继承自<code>StatefulWidget</code>的类没有什么不同。</p></li> <li><p>State类继承自<code>AnimatedWidgetBaseState</code>（该类继承自<code>ImplicitlyAnimatedWidgetState</code>类）。</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">class</span> _AnimatedDecoratedBoxState
    <span class="token keyword">extends</span> <span class="token class-name">AnimatedWidgetBaseState</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AnimatedDecoratedBox</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  late <span class="token class-name">DecorationTween</span> _decoration<span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">DecoratedBox</span><span class="token punctuation">(</span>
      decoration<span class="token punctuation">:</span> _decoration<span class="token punctuation">.</span><span class="token function">evaluate</span><span class="token punctuation">(</span>animation<span class="token punctuation">)</span><span class="token punctuation">,</span>
      child<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>child<span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">forEachTween</span><span class="token punctuation">(</span><span class="token class-name">TweenVisitor</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> visitor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    _decoration <span class="token operator">=</span> <span class="token function">visitor</span><span class="token punctuation">(</span>
      _decoration<span class="token punctuation">,</span>
      widget<span class="token punctuation">.</span>decoration<span class="token punctuation">,</span>
      <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">DecorationTween</span><span class="token punctuation">(</span>begin<span class="token punctuation">:</span> value<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span> <span class="token operator">as</span> <span class="token class-name">DecorationTween</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>可以看到我们实现了<code>build</code>和<code>forEachTween</code>两个方法。在动画执行过程中，每一帧都会调用<code>build</code>方法（调用逻辑在<code>ImplicitlyAnimatedWidgetState</code>中），所以在<code>build</code>方法中我们需要构建每一帧的<code>DecoratedBox</code>状态，因此得算出每一帧的<code>decoration</code> 状态，这个我们可以通过<code>_decoration.evaluate(animation)</code> 来算出，其中<code>animation</code>是<code>ImplicitlyAnimatedWidgetState</code>基类中定义的对象，<code>_decoration</code>是我们自定义的一个<code>DecorationTween</code>类型的对象，那么现在的问题就是它是在什么时候被赋值的呢？要回答这个问题，我们就得搞清楚什么时候需要对<code>_decoration</code>赋值。我们知道<code>_decoration</code>是一个Tween，而Tween的主要职责就是定义动画的起始状态（begin）和终止状态(end)。对于<code>AnimatedDecoratedBox</code>来说，<code>decoration</code>的终止状态就是用户传给它的值，而起始状态是不确定的，有以下两种情况：</p> <ol><li><code>AnimatedDecoratedBox</code>首次build，此时直接将其<code>decoration</code>值置为起始状态，即<code>_decoration</code>值为<code>DecorationTween(begin: decoration)</code> 。</li> <li><code>AnimatedDecoratedBox</code>的<code>decoration</code>更新时，则起始状态为<code>_decoration.animate(animation)</code>，即<code>_decoration</code>值为<code>DecorationTween(begin: _decoration.animate(animation)，end:decoration)</code>。</li></ol></li></ol> <p>现在<code>forEachTween</code>的作用就很明显了，它正是用于来更新Tween的初始值的，在上述两种情况下会被调用，而开发者只需重写此方法，并在此方法中更新Tween的起始状态值即可。而一些更新的逻辑被屏蔽在了<code>visitor</code>回调，我们只需要调用它并给它传递正确的参数即可，<code>visitor</code>方法签名如下：</p> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code> <span class="token class-name">Tween</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">visitor</span><span class="token punctuation">(</span>
   <span class="token class-name">Tween</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> tween<span class="token punctuation">,</span> <span class="token comment">//当前的tween，第一次调用为null</span>
   <span class="token class-name">T</span> targetValue<span class="token punctuation">,</span> <span class="token comment">// 终止状态</span>
   <span class="token class-name">TweenConstructor</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> constructor，<span class="token comment">//Tween构造器，在上述三种情况下会被调用以更新tween</span>
 <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>可以看到，通过继承<code>ImplicitlyAnimatedWidget</code>和<code>ImplicitlyAnimatedWidgetState</code>类可以快速的实现动画过渡组件的封装，这和我们纯手工实现相比，代码简化了很多。</p> <blockquote><p>如果读者还有疑惑，建议查看<code>ImplicitlyAnimatedWidgetState</code>的源码并结合本示例代码对比理解。</p></blockquote> <h2 id="_9-7-2-flutter预置的动画过渡组件"><a href="#_9-7-2-flutter预置的动画过渡组件" class="header-anchor">#</a> 9.7.2 Flutter预置的动画过渡组件</h2> <p>Flutter SDK中也预置了很多动画过渡组件，实现方式和大都和<code>AnimatedDecoratedBox</code>差不多，如表9-1所示：</p> <table><thead><tr><th>组件名</th> <th>功能</th></tr></thead> <tbody><tr><td>AnimatedPadding</td> <td>在padding发生变化时会执行过渡动画到新状态</td></tr> <tr><td>AnimatedPositioned</td> <td>配合Stack一起使用，当定位状态发生变化时会执行过渡动画到新的状态。</td></tr> <tr><td>AnimatedOpacity</td> <td>在透明度opacity发生变化时执行过渡动画到新状态</td></tr> <tr><td>AnimatedAlign</td> <td>当<code>alignment</code>发生变化时会执行过渡动画到新的状态。</td></tr> <tr><td>AnimatedContainer</td> <td>当Container属性发生变化时会执行过渡动画到新的状态。</td></tr> <tr><td>AnimatedDefaultTextStyle</td> <td>当字体样式发生变化时，子组件中继承了该样式的文本组件会动态过渡到新样式。</td></tr></tbody></table> <center>表9-1：Flutter预置的动画过渡组件</center>
下面我们通过一个示例来感受一下这些预置的动画过渡组件效果：
<div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">AnimatedWidgetsTest</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token class-name">AnimatedWidgetsTest</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  _AnimatedWidgetsTestState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_AnimatedWidgetsTestState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> _AnimatedWidgetsTestState <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AnimatedWidgetsTest</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  double _padding <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> _align <span class="token operator">=</span> <span class="token class-name">Alignment</span><span class="token punctuation">.</span>topRight<span class="token punctuation">;</span>
  double _height <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
  double _left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token class-name">Color</span> _color <span class="token operator">=</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>red<span class="token punctuation">;</span>
  <span class="token class-name">TextStyle</span> _style <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>black<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">Color</span> _decorationColor <span class="token operator">=</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>blue<span class="token punctuation">;</span>
  double _opacity <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> duration <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token class-name">Duration</span><span class="token punctuation">(</span>milliseconds<span class="token punctuation">:</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token class-name">SingleChildScrollView</span><span class="token punctuation">(</span>
      child<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>
        children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>
          <span class="token class-name">ElevatedButton</span><span class="token punctuation">(</span>
            onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                _padding <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            child<span class="token punctuation">:</span> <span class="token class-name">AnimatedPadding</span><span class="token punctuation">(</span>
              duration<span class="token punctuation">:</span> duration<span class="token punctuation">,</span>
              padding<span class="token punctuation">:</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>_padding<span class="token punctuation">)</span><span class="token punctuation">,</span>
              child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;AnimatedPadding&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>
            height<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
            child<span class="token punctuation">:</span> <span class="token class-name">Stack</span><span class="token punctuation">(</span>
              children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>
                <span class="token class-name">AnimatedPositioned</span><span class="token punctuation">(</span>
                  duration<span class="token punctuation">:</span> duration<span class="token punctuation">,</span>
                  left<span class="token punctuation">:</span> _left<span class="token punctuation">,</span>
                  child<span class="token punctuation">:</span> <span class="token class-name">ElevatedButton</span><span class="token punctuation">(</span>
                    onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                      <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        _left <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
                      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;AnimatedPositioned&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  <span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token punctuation">)</span>
              <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token class-name">Container</span><span class="token punctuation">(</span>
            height<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
            color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>grey<span class="token punctuation">,</span>
            child<span class="token punctuation">:</span> <span class="token class-name">AnimatedAlign</span><span class="token punctuation">(</span>
              duration<span class="token punctuation">:</span> duration<span class="token punctuation">,</span>
              alignment<span class="token punctuation">:</span> _align<span class="token punctuation">,</span>
              child<span class="token punctuation">:</span> <span class="token class-name">ElevatedButton</span><span class="token punctuation">(</span>
                onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    _align <span class="token operator">=</span> <span class="token class-name">Alignment</span><span class="token punctuation">.</span>center<span class="token punctuation">;</span>
                  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;AnimatedAlign&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token class-name">AnimatedContainer</span><span class="token punctuation">(</span>
            duration<span class="token punctuation">:</span> duration<span class="token punctuation">,</span>
            height<span class="token punctuation">:</span> _height<span class="token punctuation">,</span>
            color<span class="token punctuation">:</span> _color<span class="token punctuation">,</span>
            child<span class="token punctuation">:</span> <span class="token class-name">TextButton</span><span class="token punctuation">(</span>
              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  _height <span class="token operator">=</span> <span class="token number">150</span><span class="token punctuation">;</span>
                  _color <span class="token operator">=</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>blue<span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>
                <span class="token string-literal"><span class="token string">&quot;AnimatedContainer&quot;</span></span><span class="token punctuation">,</span>
                style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>white<span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token class-name">AnimatedDefaultTextStyle</span><span class="token punctuation">(</span>
            child<span class="token punctuation">:</span> <span class="token class-name">GestureDetector</span><span class="token punctuation">(</span>
              child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;hello world&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              onTap<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  _style <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>
                    color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>blue<span class="token punctuation">,</span>
                    decorationStyle<span class="token punctuation">:</span> <span class="token class-name">TextDecorationStyle</span><span class="token punctuation">.</span>solid<span class="token punctuation">,</span>
                    decorationColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>blue<span class="token punctuation">,</span>
                  <span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
            style<span class="token punctuation">:</span> _style<span class="token punctuation">,</span>
            duration<span class="token punctuation">:</span> duration<span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token class-name">AnimatedOpacity</span><span class="token punctuation">(</span>
            opacity<span class="token punctuation">:</span> _opacity<span class="token punctuation">,</span>
            duration<span class="token punctuation">:</span> duration<span class="token punctuation">,</span>
            child<span class="token punctuation">:</span> <span class="token class-name">TextButton</span><span class="token punctuation">(</span>
              style<span class="token punctuation">:</span> <span class="token class-name">ButtonStyle</span><span class="token punctuation">(</span>
                  backgroundColor<span class="token punctuation">:</span> <span class="token class-name">MaterialStateProperty</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token class-name">Colors</span><span class="token punctuation">.</span>blue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  _opacity <span class="token operator">=</span> <span class="token number">0.2</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>
                <span class="token string-literal"><span class="token string">&quot;AnimatedOpacity&quot;</span></span><span class="token punctuation">,</span>
                style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>white<span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token class-name">AnimatedDecoratedBox1</span><span class="token punctuation">(</span>
            duration<span class="token punctuation">:</span> <span class="token class-name">Duration</span><span class="token punctuation">(</span>
                milliseconds<span class="token punctuation">:</span> _decorationColor <span class="token operator">==</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>red <span class="token operator">?</span> <span class="token number">400</span> <span class="token punctuation">:</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            decoration<span class="token punctuation">:</span> <span class="token class-name">BoxDecoration</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> _decorationColor<span class="token punctuation">)</span><span class="token punctuation">,</span>
            child<span class="token punctuation">:</span> <span class="token class-name">Builder</span><span class="token punctuation">(</span>builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token class-name">TextButton</span><span class="token punctuation">(</span>
                onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    _decorationColor <span class="token operator">=</span> _decorationColor <span class="token operator">==</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>blue
                        <span class="token operator">?</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>red
                        <span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>blue<span class="token punctuation">;</span>
                  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>
                  <span class="token string-literal"><span class="token string">&quot;AnimatedDecoratedBox toggle&quot;</span></span><span class="token punctuation">,</span>
                  style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>white<span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span>
        <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token class-name">Padding</span><span class="token punctuation">(</span>
            padding<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">symmetric</span><span class="token punctuation">(</span>vertical<span class="token punctuation">:</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            child<span class="token punctuation">:</span> e<span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br></div></div><p>运行后效果如图9-9所示：</p> <p><img src="/assets/img/9-9.fefb9fd0.png" alt="图9-9"></p> <p>读者可以点击一下相应组件来查看一下实际的运行效果。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/chapter9/animated_switcher.html" class="prev">
        9.6 动画切换组件（AnimatedSwitcher）
      </a></span> <span class="next"><a href="/chapter10/intro.html">
        10.1 自定义组件方法简介
      </a>
      →
    </span></p></div> <div style="text-align:center;"><img src="/assets/img/pay.a6c3cb25.jpeg" width="200"> <div> 请作者喝杯咖啡 </div></div> <div class="copyright"> 版权所有，禁止私自转发、克隆网站。</div> <div class="f-links" style="text-align:center;"><a title="点击购买" target="_blank"> 购买实体书
        </a> |
        <a href="https://github.com/flutterchina">Flutter中国开源项目</a>
        |
        <a href="https://github.com/wendux">
          关于作者
        </a></div></main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.43173660.js" defer></script><script src="/assets/js/28.3b4d2e28.js" defer></script><script src="/assets/js/2.98d8db3c.js" defer></script><script src="/assets/js/38.d26fabef.js" defer></script>
  </body>
</html>
